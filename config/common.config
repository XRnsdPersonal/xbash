#! /bin/bash
#----------------    全局变量 init  ---------------------------
if [[ -z "$rEnvValInited" ]]; then
    export rEnvValInited=true
    export rXbashVersion="V0.8.3.7 beta"

    export rNameUser=$userName
    export rDirNameXbash=$dirNameXbash
    export rDirPathTools=$dirPathHomeTools
    export rDirPathUserHome=$dirPathHome
    export rDirPathXbash=$dirPathHomeXbash

    export rDirNameXbashConfig=config
    export rDirNameXbashData=database
    export rDirNameXbashModule=module

    export rFileNameXbashModuleTestBase=test.module
    export rFileNameXbashModuleMaintain=maintain.methods
    export rFileNameXbashModuleCommon=common.methods
    export rFileNameXbashConfigDataBase=base.database

    export rDirPathXbashConfig=$dirPathHomeXbashConfig
    export rDirPathXbashData=${rDirPathXbash}/${rDirNameXbashData}
    export rDirPathXbashDataUser=${rDirPathXbash}/${rDirNameXbashData}/user
    export rDirPathXbashModule=${rDirPathXbash}/${rDirNameXbashModule}
    export rDirPathXbashModuleUser=${rDirPathXbash}/${rDirNameXbashModule}/user

    export rFilePathGitBash=${rDirPathXbashModule}/git/git_completion.methods
    export rFilePathXbashModuleTest=${rDirPathXbashModule}/${rFileNameXbashModuleTestBase}
    export rFilePathXbashDataBase=${rDirPathXbashData}/${rFileNameXbashConfigDataBase}
    export rFilePathXbashModuleCommon=${rDirPathXbashModule}/${rFileNameXbashModuleCommon}

    # ========设定只读=========
    readonly rNameUser
    readonly rEnvValInited
    readonly rXbashVersion
    readonly rDirPathTools
    readonly rDirPathXbash
    readonly rDirNameXbash
    readonly rDirPathUserHome
    readonly rDirPathXbashConfig
    readonly rDirPathXbashData
    readonly rDirPathXbashDataUser
    readonly rDirPathXbashModule
    readonly rDirPathXbashModuleUser
    readonly rDirNameXbashConfig
    readonly rDirNameXbashModule
    readonly rFilePathGitBash
    readonly rFilePathXbashModuleTest
    readonly rFilePathXbashDataBase
    readonly rFilePathXbashModuleCommon
    readonly rFileNameXbashConfigDataBase
    readonly rFileNameXbashModuleTestBase
    readonly rFileNameXbashModuleMaintain
    readonly rFileNameXbashModuleCommon
fi

#####---------------------  bash 配置  ---------------------------#########
# 忽略特定命令
export HISTIGNORE="[   ]*:ls:ll:cd:vi:pwd:sync:exit:history*"
#多个终端情况下，共享history
#shopt -s histappend
#清除整个命令历史中的重复条目
#export HISTCONTROL=erasedups